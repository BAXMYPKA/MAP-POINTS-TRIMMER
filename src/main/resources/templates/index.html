<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="../static/css/index.css" th:href="@{css/index.css}">
	<script src="../static/scripts/index.js" th:src="@{/scripts/index.js}" defer></script>
	<title>Locus POI converter</title>
</head>
<body>

<div id="main">
	
	<header>
		
		<img src="../static/img/unnamed.png" title="logo" class="logo">
		
		<a href="/" th:href="@{/}" class="applicationName">
			<h1 class="applicationName" th:text="#{h1.header}">Locus POI trimmer</h1>
		</a>
		
		<div class="headerGroup1">
			
			<select class="langSelector" onchange="location = this.value">
				<option th:text="#{option.lang}">Language...</option>
				<option th:value="@{/(lang=en)}">EN</option>
				<option th:value="@{/(lang=ru)}">RU</option>
			</select>
			
			<button class="shutdownButton" th:text="#{text.shutdown}" th:title="#{title.shutdown}"
					onclick="{window.location.href = window.location.href.concat('shutdown');}">
				SHUTDOWN
			</button>
		
<!--			<img src="../static/img/offBtn.png" class="shutdownButtonPng" alt="" style="background-color: aqua">-->
			
		</div>
	
	</header>
	
	<main>
		
		<h2 th:text="#{h2.howToConvert}">How to properly convert your Locus POIs to Google Earth Windows
			application</h2>
		
		
		<article>How properly import POIs from Locus to Google Earth application description</article>
		
		<div class="userMessage"></div>
		
		<form class="loaderForm" name="poiFile" action="/locusToGoogle" method="post" enctype="multipart/form-data">
			<label for="locusKmz">Load Locus POI file</label>
			<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
			<br>
			<input id="locusKmz" type="file" accept=".kmz, .kml" class="inputButton"
				   required autofocus>
			<br><br>
			<label for="fieldSet" th:text="#{label.additionalParams}">Set additional parameters</label>
			<fieldset id="fieldSet" class="loaderForm">
				<input id="validateXml" name="validateXml" type="checkbox">
				<label for="validateXml" th:text="#{input.clear}">Severe validation check</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="trimXml" name="trimXml" type="checkbox">
				<label for="trimXml" th:text="#{input.clear}">Trim whitespaces in the whole file to compress</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="trimDescriptions" name="trimDescriptions" type="checkbox">
				<label for="trimDescriptions" th:text="#{input.clear}">
					Trim whitespaces only in user descriptions to compress
				</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="setPreviewSize" name="setPreviewSize" type="checkbox"
					   onclick="const sizeInput = document.getElementById('previewSize'); if(this.checked) {
					   sizeInput.disabled = false} else { sizeInput.disabled = true}">
				<label for="setPreviewSize" th:text="#{label.previewSize}">Set photos preview size</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="previewSize" name="previewSize" type="number" placeholder="640" value="640"
					   min="0" max="2440" disabled>
				<span th:text="#{span.px}">px</span>
				<br>
				<input id="clearDescriptions" name="clearDescriptions" type="checkbox" checked>
				<label for="clearDescriptions" th:text="#{input.clear}">Clear outdated POIs descriptions</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="setPath" name="setPath" type="checkbox"
					   onclick="const sizeInput = document.getElementById('path');
					   if(this.checked) {sizeInput.disabled = false} else { sizeInput.disabled = true}">
				<label for="setPath" th:text="#{input.setPath}">Set local path to .jpg files for photo POIs</label>
				<div class="interrogation" title="Description" th:title="#{title.photoPreviewDescription}">?</div>
				<br>
				<input id="path" name="path" type="text" disabled
					   th:title="#{title.defaultPath}"
					   title="Windows 7/10 default path to the installed Google Earth Pro's saved places"
					   th:placeholder="#{placeholder.input.defaultPath}"
					   placeholder="C:\Users\%username%\AppData\LocalLow\Google\GoogleEarth\files"
					   th:value="#{placeholder.input.defaultPath}"
					   value="C:\Users\%username%\AppData\LocalLow\Google\GoogleEarth\files">
				<input type="text" list="paths">
				<datalist id="paths">
					<option>%USERPROFILE%\AppData\LocalLow\Google\GoogleEarth\files</option>
					<option>%USERPROFILE%\AppData\LocalLow\Google\GoogleEarth\files</option>
				</datalist>
				<br>
			</fieldset>
			<input type="submit" th:value="#{input.value.convert}" value="CONVERT" class="inputButton"
				   onsubmit="{
				document.querySelector('.downloadMessage').hidden = false;
				document.querySelector('.loaderForm').submit();
			}">
			<span class="downloadMessage" th:text="${downloadMessage}" hidden></span>
		</form>
	
	
	</main>

</div>

<footer>
	
	<span>Footer content</span>

</footer>

</div>

</body>
</html>